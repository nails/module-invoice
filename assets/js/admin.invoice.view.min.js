var _INVOICE_VIEW;_INVOICE_VIEW=function(){var t=this;return t.__construct=function(){t.initRefund()},t.initRefund=function(){$(".js-confirm-refund").on("click",function(){var t,e,n,a,r;return t=$(this).attr("href"),e=$(this).data("max"),n=$(this).data("max-formatted"),a=$(this).data("return-to"),r="Please confirm refund amount and reason:",r+='<br /><br /><input type="text" id="refund-amount" value="'+e/100+'" style="width: 100%">',r+='<div id="refund-amount-error" class="text-danger hidden" style="margin-bottom: 1em;"></div>',r+='<textarea id="refund-reason" placeholder="Reason for refund (optional)" style="width: 100%; margin: 0;"></textarea>',$("<div>").html(r).dialog({title:"Are you sure?",resizable:!1,draggable:!1,modal:!0,buttons:{OK:function(){var r=$("#refund-amount").val(),o=$("#refund-reason").val();if(r<=0)$("#refund-amount-error").text("Refund amount must be greater than 0.").removeClass("hidden");else if(r>e/100)$("#refund-amount-error").text("Refund amount must be no greater than "+n+".").removeClass("hidden");else{$("#refund-amount-error").addClass("hidden");var d=$("<form>").attr({method:"POST",action:t});d.append($("<input>").attr({name:"amount",value:r})),d.append($("<input>").attr({name:"reason",value:o})),d.append($("<input>").attr({name:"return_to",value:a})),$("body").append(d),d.submit(),$(this).dialog("close")}},Cancel:function(){$(this).dialog("close")}}}),!1})},t.__construct()}();
//# sourceMappingURL=admin.invoice.view.min.js.map
