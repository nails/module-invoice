var invoicePay=function(){var e=this;return e.__construct=function(){return $(".js-invoice-driver-select input").on("click",function(){$(".js-invoice-driver-select.active").removeClass("active"),$(this).closest(".js-invoice-driver-select").addClass("active"),$(".js-invoice-panel-payment-details").addClass("hidden"),$(this).data("is-card")?$("#js-invoice-panel-payment-details-card").removeClass("hidden"):$('.js-invoice-panel-payment-details[data-driver="'+$(this).data("driver")+'"]').removeClass("hidden");var e=$(this).data("is-redirect")?"Continue":"Pay Now";$("#js-invoice-pay-now").removeClass("btn--warning btn--disabled").text(e)}),$(".js-invoice-driver-select input:checked").trigger("click"),$(".js-invoice-cc-num").payment("formatCardNumber"),$(".js-invoice-cc-exp").payment("formatCardExpiry"),$(".js-invoice-cc-cvc").payment("formatCardCVC"),$(".js-invoice-cc-num").on("keyup",function(){var e=$(this).val().trim(),a=$.payment.cardType(e),i=$(".js-invoice-cc-cvc");if(i.removeClass("amex other"),$(this).removeClass("has-error"),e.length>0)switch(a){case"amex":i.addClass("amex");break;default:i.addClass("other")}}).trigger("keyup"),$("#js-invoice-main-form").on("submit",function(){var e=!0;$("#js-error").addClass("hidden");var a=$(".js-invoice-driver-select input:checked");return 0!==a.length?$(".js-invoice-panel-payment-details:not(.hidden) :input").each(function(){var a=$(this).val().trim();if($(this).data("is-required")&&0===a.length&&(e=!1,$(this).addClass("has-error")),$(this).data("cc-num")&&!$.payment.validateCardNumber(a)&&(e=!1,$(this).addClass("has-error")),$(this).data("cc-exp")){var i=$.payment.cardExpiryVal(a);$.payment.validateCardExpiry(i.month,i.year)||(e=!1,$(this).addClass("has-error"))}$(this).data("cc-cvc")&&!$.payment.validateCardCVC(a)&&(e=!1,$(this).addClass("has-error")),e||$("#js-error").html("Please check all fields").removeClass("hidden")}):(e=!1,$("#js-error").html("Please select an option").removeClass("hidden")),e?$("#js-invoice").addClass("masked"):($("#js-invoice").addClass("shake"),setTimeout(function(){$("#js-invoice").removeClass("shake")},500)),e}),e},e.__construct()}();
//# sourceMappingURL=invoice.pay.min.js.map
