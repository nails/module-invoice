var invoicePay=function(){var e=this;return e.__construct=function(){return $(".js-goto-section").on("click",function(){e.gotoSection($(this).data("section"))}),$(".js-card-select input").on("click",function(){"NEW"===$(this).val()?$("#js-add-card").removeClass("hidden"):$("#js-add-card").addClass("hidden")}),$(".js-card-select input:checked").trigger("click"),$("#js-view-invoice").iFrameResize(),$("#js-cc-num").payment("formatCardNumber"),$("#js-cc-exp").payment("formatCardExpiry"),$("#js-cc-cvc").payment("formatCardCVC"),$("#js-main-form").on("submit",function(){return e.validate()}),e},e.gotoSection=function(e){$(".js-section .panel-collapse").addClass("collapse"),$("#js-panel-"+e+" .panel-collapse").removeClass("collapse")},e.validate=function(){var e=!0;if($("#js-panel-payment-method").length&&console.log("Validate payment method"),$("#js-panel-payment-details").length&&($(".js-card-select").length&&($("input[name=cc_saved]:checked").length||(e=!1),e||($("#js-saved-cards").addClass("shake"),setTimeout(function(){$("#js-saved-cards").removeClass("shake")},500))),!$(".js-card-select").length||"NEW"===$("input[name=cc_saved]:checked").val())){var s=$("#js-cc-name").val().trim(),a=$("#js-cc-num").val().trim(),c=$("#js-cc-exp").val().trim().split("/"),r=$("#js-cc-cvc").val().trim();$.payment.validateCardNumber(a)?$("#js-cc-num").closest(".form-group").removeClass("has-error"):(e=!1,$("#js-cc-num").closest(".form-group").addClass("has-error")),s.length?$("#js-cc-name").closest(".form-group").removeClass("has-error"):(e=!1,$("#js-cc-name").closest(".form-group").addClass("has-error")),$.payment.validateCardExpiry(c[0],c[1])?$("#js-cc-exp").closest(".form-group").removeClass("has-error"):(e=!1,$("#js-cc-exp").closest(".form-group").addClass("has-error")),$.payment.validateCardCVC(r)?$("#js-cc-cvc").closest(".form-group").removeClass("has-error"):(e=!1,$("#js-cc-cvc").closest(".form-group").addClass("has-error")),e||($("#js-add-card").addClass("shake"),setTimeout(function(){$("#js-add-card").removeClass("shake")},500))}return e},e.__construct()}();
//# sourceMappingURL=invoice.pay.min.js.map
